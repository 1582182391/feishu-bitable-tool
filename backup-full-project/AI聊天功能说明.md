# AI实时对话功能说明

## 功能概述

新增的AI实时对话功能基于DeepSeek Chat模型，为用户提供智能聊天体验。

## 主要特性

### 🤖 智能对话
- **模型**: DeepSeek Chat (deepseek-v3)
- **响应速度**: 通常3-10秒内获得回复
- **内容质量**: 支持中文优化，理解准确，回复自然

### 💬 上下文记忆
- **多轮对话**: AI会记住本次会话的所有历史消息
- **连续性**: 支持深入讨论和追问
- **智能理解**: 能够理解代词指代和上下文关系

### 🎨 用户界面
- **现代设计**: 仿微信聊天界面，用户体验友好
- **消息气泡**: 用户消息（蓝色）和AI回复（白色）区分明显
- **时间戳**: 每条消息显示发送时间
- **加载状态**: AI思考时显示加载动画

### ⚡ 交互体验
- **快捷发送**: Enter键发送，Shift+Enter换行
- **实时输入**: 支持多行文本输入
- **清空对话**: 一键清空所有聊天记录
- **错误处理**: 网络异常时显示友好错误提示

## 使用方法

### 1. 访问功能
1. 打开飞书多维表格管理工具
2. 在左侧菜单中点击"AI实时对话"
3. 进入聊天界面

### 2. 开始对话
1. 在底部输入框中输入问题
2. 点击"发送"按钮或按Enter键
3. 等待AI回复（通常几秒钟）

### 3. 多轮对话
- AI会记住之前的对话内容
- 可以进行连续提问和深入讨论
- 支持上下文相关的问答

### 4. 管理对话
- 点击右上角"清空对话"按钮可删除所有消息
- 刷新页面会丢失当前对话记录

## 技术实现

### API配置
- **接口地址**: https://tbnx.plus7.plus/v1/chat/completions
- **认证方式**: Bearer Token
- **模型**: deepseek-chat
- **最大Token**: 1000
- **温度参数**: 0.7

### 前端实现
- **框架**: React + TypeScript
- **UI库**: Ant Design
- **状态管理**: React Hooks (useState)
- **HTTP客户端**: Axios

### 消息格式
```typescript
interface ChatMessage {
  id: number;
  role: 'user' | 'assistant';
  content: string;
  timestamp: string;
  isError?: boolean;
}
```

## 使用建议

### 适用场景
- **编程咨询**: 代码问题、技术方案讨论
- **学习辅助**: 知识点解释、概念理解
- **工作协助**: 文档写作、方案策划
- **日常交流**: 生活问题、兴趣话题

### 最佳实践
1. **明确问题**: 提问时尽量具体明确
2. **分步骤**: 复杂问题可以分步骤询问
3. **利用上下文**: 充分利用AI的记忆能力
4. **及时反馈**: 对AI回复进行确认或追问

### 注意事项
- 网络连接需要稳定
- 单次对话有Token限制
- 刷新页面会丢失对话历史
- 敏感信息请谨慎分享

## 故障排除

### 常见问题

**Q: AI不回复或回复很慢？**
A: 检查网络连接，API服务可能繁忙，请稍后重试。

**Q: 显示错误消息？**
A: 通常是网络问题，检查网络连接或稍后重试。

**Q: 对话记录丢失？**
A: 刷新页面会清空记录，这是正常现象。

**Q: AI回复不准确？**
A: 可以重新提问或提供更多上下文信息。

### 技术支持
如遇到技术问题，请检查：
1. 前端服务是否正常运行 (http://localhost:3000)
2. 网络连接是否稳定
3. 浏览器控制台是否有错误信息

## 更新日志

### v1.0.0 (2024-12-19)
- ✨ 新增AI实时对话功能
- 🎨 实现聊天界面UI
- 💬 支持多轮对话和上下文记忆
- ⚡ 集成DeepSeek Chat API
- 🛠️ 添加错误处理和加载状态

---

*该功能基于DeepSeek Chat模型开发，为飞书多维表格管理工具增加智能对话能力。* 